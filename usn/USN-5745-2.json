{
  "description": "USN-5745-1 fixed vulnerabilities in shadow. Unfortunately that update\nintroduced a regression that caused useradd to behave incorrectly in Ubuntu\n14.04 ESM, Ubuntu 16.04 ESM, Ubuntu 18.04 LTS and Ubuntu 20.04 LTS. This\nupdate reverts the security fix pending further investigation.\n\nWe apologize for the inconvenience.\n\nOriginal advisory details:\n\n Florian Weimer discovered that shadow was not properly copying and removing\n user directory trees, which could lead to a race condition. A local attacker\n could possibly use this issue to setup a symlink attack and alter or remove\n directories without authorization.\n",
  "releases": {
    "bionic": {
      "allbinaries": {
        "passwd": {
          "pocket": "security",
          "source": "shadow",
          "version": "1:4.5-1ubuntu2.5"
        },
        "login": {
          "pocket": "security",
          "source": "shadow",
          "version": "1:4.5-1ubuntu2.5"
        },
        "uidmap": {
          "pocket": "security",
          "source": "shadow",
          "version": "1:4.5-1ubuntu2.5"
        }
      },
      "binaries": {
        "passwd": {
          "pocket": "security",
          "version": "1:4.5-1ubuntu2.5"
        },
        "login": {
          "pocket": "security",
          "version": "1:4.5-1ubuntu2.5"
        },
        "uidmap": {
          "pocket": "security",
          "version": "1:4.5-1ubuntu2.5"
        }
      },
      "archs": {
        "amd64": {
          "urls": {
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/passwd_4.5-1ubuntu2.5_amd64.deb": {
              "md5": "0825d667c8329b3e0f152aba6e6833df",
              "size": 817648
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/login_4.5-1ubuntu2.5_amd64.deb": {
              "md5": "366ea1af27d76fdfed08a71457a818a1",
              "size": 306948
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/uidmap_4.5-1ubuntu2.5_amd64.deb": {
              "md5": "9983915f73a598ac1f8443a67badb3dc",
              "size": 67592
            }
          }
        },
        "source": {
          "urls": {
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/shadow_4.5-1ubuntu2.5.dsc": {
              "md5": "acb84f168ffae7c2bd4db60f190a682f",
              "size": 2105
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/shadow_4.5.orig.tar.xz": {
              "md5": "dc6263258eab3dbeb66c8687841ae4a9",
              "size": 1344524
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/shadow_4.5-1ubuntu2.5.debian.tar.xz": {
              "md5": "7778fee4afec127c33b5646858c0cdcc",
              "size": 473964
            }
          }
        },
        "s390x": {
          "urls": {
            "http://ports.ubuntu.com/pool/main/s/shadow/passwd_4.5-1ubuntu2.5_s390x.deb": {
              "md5": "78ecc6712e03fb4b377ae54b77cfd1c6",
              "size": 797864
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/uidmap_4.5-1ubuntu2.5_s390x.deb": {
              "md5": "77ebd4241770ff1b317686d23735d4df",
              "size": 66608
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/login_4.5-1ubuntu2.5_s390x.deb": {
              "md5": "df1abe6a5bda24a52560193dc788878c",
              "size": 303684
            }
          }
        },
        "ppc64el": {
          "urls": {
            "http://ports.ubuntu.com/pool/main/s/shadow/passwd_4.5-1ubuntu2.5_ppc64el.deb": {
              "md5": "d534ad34ea6685974d7a4d8ce60002e3",
              "size": 802360
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/login_4.5-1ubuntu2.5_ppc64el.deb": {
              "md5": "5058376c5c5c400432b6c6419d9c8ec9",
              "size": 307568
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/uidmap_4.5-1ubuntu2.5_ppc64el.deb": {
              "md5": "0f5df922a8c6c54a587761343189c2eb",
              "size": 68240
            }
          }
        },
        "i386": {
          "urls": {
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/passwd_4.5-1ubuntu2.5_i386.deb": {
              "md5": "5bb3ca708f6ebf2bb939ecfdbba111fb",
              "size": 820660
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/login_4.5-1ubuntu2.5_i386.deb": {
              "md5": "b955d19320711592f3300968a94375e5",
              "size": 308512
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/uidmap_4.5-1ubuntu2.5_i386.deb": {
              "md5": "0e2dec21e1cb1d3b9b7fc492e55cf400",
              "size": 69212
            }
          }
        },
        "arm64": {
          "urls": {
            "http://ports.ubuntu.com/pool/main/s/shadow/login_4.5-1ubuntu2.5_arm64.deb": {
              "md5": "3243ffb7225960bc87b3acec1cfc047f",
              "size": 300008
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/passwd_4.5-1ubuntu2.5_arm64.deb": {
              "md5": "e94efc68730ee93f20952813dfb92b7d",
              "size": 761352
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/uidmap_4.5-1ubuntu2.5_arm64.deb": {
              "md5": "5f1bd9e106ee1ec5d0a6aed63c56c786",
              "size": 64288
            }
          }
        },
        "armhf": {
          "urls": {
            "http://ports.ubuntu.com/pool/main/s/shadow/uidmap_4.5-1ubuntu2.5_armhf.deb": {
              "md5": "00da44d40806f1de10471f5e680e824b",
              "size": 64556
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/login_4.5-1ubuntu2.5_armhf.deb": {
              "md5": "c85b8e290c0a906c33f2c0ab5d4dbc14",
              "size": 303008
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/passwd_4.5-1ubuntu2.5_armhf.deb": {
              "md5": "8e08d1f0da8dc5245eea1bf36ccbef26",
              "size": 770240
            }
          }
        }
      },
      "sources": {
        "shadow": {
          "version": "1:4.5-1ubuntu2.5",
          "description": "system login tools"
        }
      }
    },
    "trusty": {
      "allbinaries": {
        "passwd": {
          "pocket": "esm-infra",
          "source": "shadow",
          "version": "1:4.1.5.1-1ubuntu9.5+esm3"
        },
        "login": {
          "pocket": "esm-infra",
          "source": "shadow",
          "version": "1:4.1.5.1-1ubuntu9.5+esm3"
        },
        "uidmap": {
          "pocket": "esm-infra",
          "source": "shadow",
          "version": "1:4.1.5.1-1ubuntu9.5+esm3"
        }
      },
      "binaries": {
        "passwd": {
          "pocket": "esm-infra",
          "version": "1:4.1.5.1-1ubuntu9.5+esm3"
        },
        "login": {
          "pocket": "esm-infra",
          "version": "1:4.1.5.1-1ubuntu9.5+esm3"
        },
        "uidmap": {
          "pocket": "esm-infra",
          "version": "1:4.1.5.1-1ubuntu9.5+esm3"
        }
      },
      "sources": {
        "shadow": {
          "version": "1:4.1.5.1-1ubuntu9.5+esm3",
          "description": "system login tools"
        }
      }
    },
    "focal": {
      "allbinaries": {
        "passwd": {
          "pocket": "security",
          "source": "shadow",
          "version": "1:4.8.1-1ubuntu5.20.04.4"
        },
        "login": {
          "pocket": "security",
          "source": "shadow",
          "version": "1:4.8.1-1ubuntu5.20.04.4"
        },
        "uidmap": {
          "pocket": "security",
          "source": "shadow",
          "version": "1:4.8.1-1ubuntu5.20.04.4"
        }
      },
      "binaries": {
        "passwd": {
          "pocket": "security",
          "version": "1:4.8.1-1ubuntu5.20.04.4"
        },
        "login": {
          "pocket": "security",
          "version": "1:4.8.1-1ubuntu5.20.04.4"
        },
        "uidmap": {
          "pocket": "security",
          "version": "1:4.8.1-1ubuntu5.20.04.4"
        }
      },
      "archs": {
        "riscv64": {
          "urls": {
            "http://ports.ubuntu.com/pool/main/s/shadow/passwd_4.8.1-1ubuntu5.20.04.4_riscv64.deb": {
              "md5": "64b036e03523d10a49e520cd97a96f27",
              "size": 752540
            },
            "http://ports.ubuntu.com/pool/universe/s/shadow/uidmap_4.8.1-1ubuntu5.20.04.4_riscv64.deb": {
              "md5": "df755ba16d83d57b8c969914898fa8f6",
              "size": 22400
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/login_4.8.1-1ubuntu5.20.04.4_riscv64.deb": {
              "md5": "b513e1cf13565402f17d7ce3a714bbd0",
              "size": 215488
            }
          }
        },
        "amd64": {
          "urls": {
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/login_4.8.1-1ubuntu5.20.04.4_amd64.deb": {
              "md5": "950f6aa3d00c79e5a690d44d8dc8a23c",
              "size": 220580
            },
            "http://security.ubuntu.com/ubuntu/pool/universe/s/shadow/uidmap_4.8.1-1ubuntu5.20.04.4_amd64.deb": {
              "md5": "af6e9ac0ccbc76d8bccf9f5b35228469",
              "size": 26428
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/passwd_4.8.1-1ubuntu5.20.04.4_amd64.deb": {
              "md5": "f26de80dbc197131edd5ad23f8140f4b",
              "size": 798904
            }
          }
        },
        "ppc64el": {
          "urls": {
            "http://ports.ubuntu.com/pool/main/s/shadow/passwd_4.8.1-1ubuntu5.20.04.4_ppc64el.deb": {
              "md5": "d7aeda91e944ebf862389a3224efb1e8",
              "size": 804796
            },
            "http://ports.ubuntu.com/pool/universe/s/shadow/uidmap_4.8.1-1ubuntu5.20.04.4_ppc64el.deb": {
              "md5": "e11f98f81f1cf363fea12c1e0aa06954",
              "size": 28504
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/login_4.8.1-1ubuntu5.20.04.4_ppc64el.deb": {
              "md5": "ffdbbf3de6a49ad8713815eb6722353f",
              "size": 223416
            }
          }
        },
        "i386": {
          "urls": {
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/passwd_4.8.1-1ubuntu5.20.04.4_i386.deb": {
              "md5": "50ce866dcdd3c4b13188b16459005825",
              "size": 804488
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/login_4.8.1-1ubuntu5.20.04.4_i386.deb": {
              "md5": "7601bda543fc2533f62e449c1a0d9182",
              "size": 222180
            },
            "http://security.ubuntu.com/ubuntu/pool/universe/s/shadow/uidmap_4.8.1-1ubuntu5.20.04.4_i386.deb": {
              "md5": "016fc552ad0a9f702f70786ed228c5a3",
              "size": 27848
            }
          }
        },
        "source": {
          "urls": {
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/shadow_4.8.1.orig.tar.xz": {
              "md5": "4b05eff8a427cf50e615bda324b5bc45",
              "size": 1611196
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/shadow_4.8.1-1ubuntu5.20.04.4.debian.tar.xz": {
              "md5": "9654841defb64217bea048f844e6d390",
              "size": 86684
            },
            "http://security.ubuntu.com/ubuntu/pool/main/s/shadow/shadow_4.8.1-1ubuntu5.20.04.4.dsc": {
              "md5": "1bae255fe99f056cd0caad44a9877e81",
              "size": 2081
            }
          }
        },
        "s390x": {
          "urls": {
            "http://ports.ubuntu.com/pool/universe/s/shadow/uidmap_4.8.1-1ubuntu5.20.04.4_s390x.deb": {
              "md5": "395f0aad056888719e03f28e15f6323e",
              "size": 24804
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/login_4.8.1-1ubuntu5.20.04.4_s390x.deb": {
              "md5": "ffa5a8301f9839b793daff9b9715a9fb",
              "size": 217532
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/passwd_4.8.1-1ubuntu5.20.04.4_s390x.deb": {
              "md5": "345d42f8079ef9ccc3dc6516b53a1ce4",
              "size": 776276
            }
          }
        },
        "armhf": {
          "urls": {
            "http://ports.ubuntu.com/pool/universe/s/shadow/uidmap_4.8.1-1ubuntu5.20.04.4_armhf.deb": {
              "md5": "711fd2049fc6ee60b940a0d62935115b",
              "size": 23088
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/login_4.8.1-1ubuntu5.20.04.4_armhf.deb": {
              "md5": "3dceda50b483b864b02705d6a1c78248",
              "size": 216964
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/passwd_4.8.1-1ubuntu5.20.04.4_armhf.deb": {
              "md5": "abfdb26f6ebb02cd0da7255b7150a417",
              "size": 750456
            }
          }
        },
        "arm64": {
          "urls": {
            "http://ports.ubuntu.com/pool/universe/s/shadow/uidmap_4.8.1-1ubuntu5.20.04.4_arm64.deb": {
              "md5": "5fffc3ec902b04de89c2dadf1f05a2e8",
              "size": 25300
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/passwd_4.8.1-1ubuntu5.20.04.4_arm64.deb": {
              "md5": "e5b0822308c4f7aaa9b610701fa20d0f",
              "size": 772184
            },
            "http://ports.ubuntu.com/pool/main/s/shadow/login_4.8.1-1ubuntu5.20.04.4_arm64.deb": {
              "md5": "9ea27456a3ef9dc5e913cae7285f0623",
              "size": 218000
            }
          }
        }
      },
      "sources": {
        "shadow": {
          "version": "1:4.8.1-1ubuntu5.20.04.4",
          "description": "system login tools"
        }
      }
    },
    "xenial": {
      "allbinaries": {
        "passwd": {
          "pocket": "esm-infra",
          "source": "shadow",
          "version": "1:4.2-3.1ubuntu5.5+esm3"
        },
        "login": {
          "pocket": "esm-infra",
          "source": "shadow",
          "version": "1:4.2-3.1ubuntu5.5+esm3"
        },
        "uidmap": {
          "pocket": "esm-infra",
          "source": "shadow",
          "version": "1:4.2-3.1ubuntu5.5+esm3"
        }
      },
      "binaries": {
        "passwd": {
          "pocket": "esm-infra",
          "version": "1:4.2-3.1ubuntu5.5+esm3"
        },
        "login": {
          "pocket": "esm-infra",
          "version": "1:4.2-3.1ubuntu5.5+esm3"
        },
        "uidmap": {
          "pocket": "esm-infra",
          "version": "1:4.2-3.1ubuntu5.5+esm3"
        }
      },
      "sources": {
        "shadow": {
          "version": "1:4.2-3.1ubuntu5.5+esm3",
          "description": "system login tools"
        }
      }
    }
  },
  "title": "shadow regression",
  "timestamp": 1669742631.6222372,
  "summary": "shadow regression",
  "action": "In general, a standard system update will make all the necessary changes.\n",
  "isummary": "USN-5745-1 introduced a regression in shadow.\n",
  "id": "USN-5745-2",
  "cves": [
    "https://launchpad.net/bugs/1998169"
  ]
}